<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ghost Template</title>
	<script type="text/javascript" src="../ghost0.0.3.js"></script>
</head>
<body>
<button id="btn">Click</button>
<div id="list">0</div>
<div class="divblock"></div>
   <script type="text/javascript">
		Go(function(){
			//	我就看看中文会不会乱码
			//	G {{ Template }} base on Underscore Template 
			// 	fast {{ Building }} the Template at once
			//	you {{ need }} write word like this
			var tplBuilding =
		   		''	
				+'<ol>'
				+'{{  data = data["list"]; }}'
				+'{{  DataList = JSON.parse(decodeURIComponent(data)); }}'
				+'{{  console.log(DataList); }}'
				+'{{  Go.ObjEach(DataList,function(item){ 	}}' 
				+			'<li>{{= item.lag }}</li>'
				+			'<li>{{= item.autor }}</li>' 	
				+'{{ 	}) }}'
				+'</ol>'
				+'{{  Go("#btn").unbind(); }}';

			var tpl = Go.template(tplBuilding,{ variable:"data" });

			Go("#btn").bind("click",function(){
				Go.JSONP({
					url		:	"http://jsfiddle.Net/echo/jsonp",
					data	:	{ 'list': '{ "1":{"lag":"JavaScript","autor":"Ghost" }, "2":{"lag":"C++","autor":"Demon"} }' },
					fail 	:   function(e){ alert(e); },
					success	:	function(data){ Go("#list .divblock").insetHTML(tpl(data)) } 
				});
			});
				
		});
   </script>     
   </body>
</html>
